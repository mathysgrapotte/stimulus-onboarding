global_params:
  seed: 42
transforms:
  transformation_name: "log_and_hvg_2000"
  columns:
    - column_name: "X"
      transformations:
        - name: "ScanpyTransform"
          params:
            func: "pp.log1p"
        - name: "ScanpyTransform"
          params:
            func: "pp.highly_variable_genes"
            n_top_genes: 2000
            subset: True
        - name: "AveragePca"
          params:
            n_components: 20
            field: "target_gene"
            store_field: "X_avg_pca"
            remove_target_field: "target_gene"
            remove_target_values: ["non-targeting"]
